<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abhaya News Admin</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" href="assests/logo2.png" type="image/jpeg">
</head>

<body>
    <header>
        <div class="container">
            <div class="logo">
                <img src="assests/logo.jpg" alt="Abhaya News Logo">
                <h1>ABHAYA NEWS ADMIN</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Back to Website</a></li>
                </ul>
            </nav>
            <div class="auth-buttons">
                <button id="logoutBtn">Logout</button>
            </div>
        </div>
    </header>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <main>
        <div class="container">
            <div class="admin-panel">
                <h2>Upload News</h2>
                <form id="uploadForm">
                    <div class="form-group">
                        <label for="title">Title <span class="required">*</span></label>
                        <input type="text" id="title" required>
                    </div>
                    <div class="form-group">
                        <label for="category">Category <span class="required">*</span></label>
                        <select id="category" required>
                            <option value="general">General</option>
                            <option value="politics">Politics</option>
                            <option value="technology">Technology</option>
                            <option value="sports">Sports</option>
                            <option value="entertainment">Entertainment</option>
                            <option value="business">Business</option>
                            <option value="health">Health</option>
                            <option value="science">Science</option>
                            <option value="world">World</option>
                            <option value="lifestyle">Lifestyle</option>
                            <option value="education">Education</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="image">Image</label>
                        <input type="file" id="image" accept="image/*">
                    </div>
                    <div class="form-group">
                        <label for="body">Content <span class="required">*</span></label>
                        <textarea id="body" rows="10" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="isBreaking"> Mark as Breaking News
                        </label>
                    </div>
                    <div class="form-group">
                        <label for="breakingUrl">Breaking Article Link (Optional)</label>
                        <input type="url" id="breakingUrl" placeholder="https://example.com/full-article">
                    </div>
                    <button type="submit">Upload News</button>
                </form>
            </div>

            <div class="admin-panel">
                <h2>Manage News</h2>
                <div class="news-table-container">
                    <table id="newsTable" class="news-table">
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Category</th>
                                <th>Date</th>
                                <th>Breaking</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="newsTableBody">
                            <!-- News items will be loaded here -->
                        </tbody>
                    </table>
                    <div id="newsPagination" class="pagination">
                        <button id="prevPageBtn" disabled>Previous</button>
                        <span id="pageInfo">Page 1 of 1</span>
                        <button id="nextPageBtn" disabled>Next</button>
                    </div>
                </div>
            </div>

            <!-- Popup News Management Section -->
            <div class="admin-panel">
                <h2>Manage Popup News</h2>
                <form id="popupNewsForm">
                    <input type="hidden" id="popupId">
                    <div class="form-group">
                        <label for="popupTitle">Popup Title <span class="required">*</span></label>
                        <input type="text" id="popupTitle" required placeholder="Enter breaking news title">
                    </div>
                    <div class="form-group">
                        <label for="popupDescription">Description <span class="required">*</span></label>
                        <textarea id="popupDescription" rows="4" required placeholder="Enter news description"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="popupImage">Popup Image</label>
                        <input type="file" id="popupImage" accept="image/*">
                        <small>Upload an image for the popup (recommended: 800x400px)</small>
                    </div>
                    <div class="form-group">
                        <label for="popupLink">Article Link (Optional)</label>
                        <input type="url" id="popupLink" placeholder="https://example.com/article">
                        <small>Link to full article or news page</small>
                    </div>
                    <div class="form-group">
                        <label for="popupVideoLink">Video Link (Optional)</label>
                        <input type="url" id="popupVideoLink" placeholder="https://youtube.com/watch?v=...">
                        <small>YouTube or other video link</small>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="popupActive"> 
                            Activate Popup News
                        </label>
                        <small>Check to make this popup appear for new visitors</small>
                    </div>
                    <div class="form-actions">
                        <button type="submit" id="savePopupBtn">Save Popup News</button>
                        <button type="button" id="deletePopupBtn" class="delete-btn">Delete Popup News</button>
                        <button type="button" id="cancelEditBtn">Cancel</button>
                    </div>
                </form>
                <div class="news-table-container" style="margin-top:30px;">
                    <table id="popupNewsTable" class="news-table">
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Image</th>
                                <th>Active</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="popupNewsTableBody">
                            <!-- Popup news items will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- YouTube Video Management Section -->
            <div class="admin-panel">
                <h2>Upload YouTube Video</h2>
                <form id="uploadVideoForm">
                    <div class="form-group">
                        <label for="videoTitle">Video Title <span class="required">*</span></label>
                        <input type="text" id="videoTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="videoUrl">YouTube Video URL <span class="required">*</span></label>
                        <input type="url" id="videoUrl" required placeholder="https://www.youtube.com/watch?v=...">
                        <small>Paste the full YouTube video URL</small>
                    </div>
                    <div class="form-group">
                        <label for="videoCategory">Category <span class="required">*</span></label>
                        <select id="videoCategory" required>
                            <option value="general">General</option>
                            <option value="politics">Politics</option>
                            <option value="technology">Technology</option>
                            <option value="sports">Sports</option>
                            <option value="entertainment">Entertainment</option>
                            <option value="business">Business</option>
                            <option value="health">Health</option>
                            <option value="science">Science</option>
                            <option value="world">World</option>
                            <option value="lifestyle">Lifestyle</option>
                            <option value="education">Education</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="videoDescription">Description <span class="required">*</span></label>
                        <textarea id="videoDescription" rows="4" required></textarea>
                    </div>
                    <button type="submit">Upload Video</button>
                </form>
            </div>

            <div class="admin-panel">
                <h2>Manage YouTube Videos</h2>
                <div class="news-table-container">
                    <table id="videoTable" class="news-table">
                        <thead>
                            <tr>
                                <th>Thumbnail</th>
                                <th>Title</th>
                                <th>Category</th>
                                <th>Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="videoTableBody">
                            <!-- Video items will be loaded here -->
                        </tbody>
                    </table>
                    <div id="videoPagination" class="pagination">
                        <button id="prevVideoPageBtn" disabled>Previous</button>
                        <span id="videoPageInfo">Page 1 of 1</span>
                        <button id="nextVideoPageBtn" disabled>Next</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Edit News Modal -->
    <div id="editNewsModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeEditModal">&times;</span>
            <h2>Edit News</h2>
            <form id="editNewsForm">
                <input type="hidden" id="editNewsId">
                <div class="form-group">
                    <label for="editTitle">Title <span class="required">*</span></label>
                    <input type="text" id="editTitle" required>
                </div>
                <div class="form-group">
                    <label for="editCategory">Category <span class="required">*</span></label>
                    <select id="editCategory" required>
                        <option value="general">General</option>
                        <option value="politics">Politics</option>
                        <option value="technology">Technology</option>
                        <option value="sports">Sports</option>
                        <option value="entertainment">Entertainment</option>
                        <option value="business">Business</option>
                        <option value="health">Health</option>
                        <option value="science">Science</option>
                        <option value="world">World</option>
                        <option value="lifestyle">Lifestyle</option>
                        <option value="education">Education</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editImage">Image (Leave empty to keep current image)</label>
                    <input type="file" id="editImage" accept="image/*">
                </div>
                <div class="form-group">
                    <label for="editBody">Content <span class="required">*</span></label>
                    <textarea id="editBody" rows="10" required></textarea>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="editIsBreaking"> Mark as Breaking News
                    </label>
                </div>
                <div class="form-group">
                    <label for="editBreakingUrl">Breaking Article Link (Optional)</label>
                    <input type="url" id="editBreakingUrl" placeholder="https://example.com/full-article">
                </div>
                <button type="submit">Update News</button>
            </form>
        </div>
    </div>

    <!-- Edit YouTube Video Modal -->
    <div id="editVideoModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeEditVideoModal">&times;</span>
            <h2>Edit YouTube Video</h2>
            <form id="editVideoForm">
                <input type="hidden" id="editVideoId">
                <div class="form-group">
                    <label for="editVideoTitle">Title <span class="required">*</span></label>
                    <input type="text" id="editVideoTitle" required>
                </div>
                <div class="form-group">
                    <label for="editVideoUrl">YouTube Video URL <span class="required">*</span></label>
                    <input type="url" id="editVideoUrl" required>
                    <small>Changing the URL will update the thumbnail automatically</small>
                </div>
                <div class="form-group">
                    <label for="editVideoCategory">Category <span class="required">*</span></label>
                    <select id="editVideoCategory" required>
                        <option value="general">General</option>
                        <option value="politics">Politics</option>
                        <option value="technology">Technology</option>
                        <option value="sports">Sports</option>
                        <option value="entertainment">Entertainment</option>
                        <option value="business">Business</option>
                        <option value="health">Health</option>
                        <option value="science">Science</option>
                        <option value="world">World</option>
                        <option value="lifestyle">Lifestyle</option>
                        <option value="education">Education</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editVideoDescription">Description</label>
                    <textarea id="editVideoDescription" rows="4"></textarea>
                </div>
                <div class="form-group">
                    <div class="video-preview">
                        <h4>Current Thumbnail:</h4>
                        <img id="videoThumbnailPreview" src="" alt="Video Thumbnail">
                    </div>
                </div>
                <button type="submit">Update Video</button>
            </form>
        </div>
    </div>

    <footer id="footer">
        <!-- Footer will be loaded here by JavaScript -->
    </footer>

    <script src="toast.js" type="module"></script>
    <script src="components.js" type="module"></script>
    <script src="admin.js" type="module"></script>
    <!-- <script src="youtube-videos.js"></script> -->
</body>

</html>